<div class="page-title">
  <app-task-row
    [client]="client"
    (updateTasks)="updateTasksList()"
  ></app-task-row>
</div>

<div class="statusBar">
  <h1 class="projectName">{{ clientName }}</h1>
  <div class="dfl ai">
    <div *ngIf="client" class="dfl clients_data">
      <div class="wrap">{{ client.tarif }} $ / hour</div>
      <div class="wrap">Total hours:{{ totalHours }}</div>
      <div class="wrap">Total payment: ${{ totalPayment }}</div>
    </div>

    <div class="func-buttons settings" (click)="changeClientData()">
      <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 20C0 8.95431 8.95431 0 20 0C31.0457 0 40 8.95431 40 20C40 31.0457 31.0457 40 20 40C8.95431 40 0 31.0457 0 20Z" fill="#00BCD4"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.2308 11.5385C19.0892 11.5385 18.9744 11.6533 18.9744 11.7949V13.4377L18.3915 13.5833C17.7533 13.7427 17.1516 13.995 16.6016 14.3252L16.0865 14.6343L14.9242 13.472C14.824 13.3719 14.6617 13.3719 14.5616 13.472L13.4721 14.5615C13.3719 14.6617 13.3719 14.824 13.4721 14.9241L14.6344 16.0865L14.3252 16.6015C13.995 17.1516 13.7427 17.7533 13.5833 18.3915L13.4377 18.9744H11.7949C11.6533 18.9744 11.5385 19.0892 11.5385 19.2308V20.7692C11.5385 20.9108 11.6533 21.0256 11.7949 21.0256H13.4377L13.5833 21.6085C13.7427 22.2469 13.9951 22.8488 14.3255 23.399L14.6348 23.9141L13.4725 25.0763C13.3724 25.1764 13.3724 25.3388 13.4725 25.4389L14.5611 26.5275C14.6612 26.6276 14.8236 26.6276 14.9237 26.5275L16.086 25.3653L16.601 25.6745C17.1512 26.0049 17.7531 26.2573 18.3915 26.4167L18.9744 26.5623V28.2051C18.9744 28.3467 19.0892 28.4615 19.2308 28.4615H20.7692C20.9108 28.4615 21.0256 28.3467 21.0256 28.2051V26.5623L21.6084 26.4167C22.2467 26.2573 22.8484 26.005 23.3985 25.6748L23.9135 25.3656L25.0759 26.528C25.176 26.6281 25.3384 26.6281 25.4385 26.528L26.528 25.4385C26.6281 25.3383 26.6281 25.176 26.528 25.0758L25.3657 23.9135L25.6748 23.3984C26.005 22.8484 26.2573 22.2467 26.4167 21.6085L26.5623 21.0256H28.2051C28.3467 21.0256 28.4615 20.9108 28.4615 20.7692V19.2308C28.4615 19.0892 28.3467 18.9744 28.2051 18.9744H26.5623L26.4167 18.3915C26.2573 17.7531 26.0049 17.1512 25.6745 16.601L25.3653 16.086L26.5275 14.9237C26.6277 14.8235 26.6277 14.6612 26.5275 14.5611L25.439 13.4725C25.3388 13.3724 25.1765 13.3724 25.0763 13.4725L23.9141 14.6348L23.399 14.3255C22.8488 13.9951 22.2469 13.7427 21.6084 13.5833L21.0256 13.4377V11.7949C21.0256 11.6533 20.9108 11.5385 20.7692 11.5385H19.2308ZM17.4359 11.7949C17.4359 10.8036 18.2395 10 19.2308 10H20.7692C21.7605 10 22.5641 10.8036 22.5641 11.7949V12.2597C22.9423 12.3849 23.3081 12.537 23.6594 12.7137L23.9885 12.3846C24.6894 11.6837 25.8259 11.6837 26.5268 12.3846L27.6154 13.4732C28.3163 14.1741 28.3163 15.3106 27.6154 16.0115L27.2863 16.3406C27.463 16.6919 27.6151 17.0577 27.7403 17.4359H28.2051C29.1964 17.4359 30 18.2395 30 19.2308V20.7692C30 21.7605 29.1964 22.5641 28.2051 22.5641H27.7403C27.6152 22.942 27.4632 23.3077 27.2866 23.6587L27.6158 23.988C28.3168 24.6889 28.3168 25.8254 27.6158 26.5263L26.5263 27.6158C25.8254 28.3167 24.689 28.3167 23.988 27.6158L23.6588 27.2866C23.3077 27.4632 22.942 27.6152 22.5641 27.7403V28.2051C22.5641 29.1964 21.7605 30 20.7692 30H19.2308C18.2395 30 17.4359 29.1964 17.4359 28.2051V27.7403C17.0577 27.6151 16.6919 27.463 16.3406 27.2863L16.0116 27.6153C15.3106 28.3163 14.1742 28.3163 13.4733 27.6153L12.3847 26.5268C11.6838 25.8258 11.6837 24.6894 12.3847 23.9884L12.7137 23.6594C12.537 23.3081 12.3849 22.9423 12.2597 22.5641H11.7949C10.8036 22.5641 10 21.7605 10 20.7692V19.2308C10 18.2395 10.8036 17.4359 11.7949 17.4359H12.2597C12.3848 17.0579 12.5368 16.6923 12.7134 16.3412L12.3842 16.012C11.6833 15.3111 11.6833 14.1746 12.3842 13.4737L13.4737 12.3842C14.1746 11.6832 15.3111 11.6832 16.012 12.3842L16.3413 12.7134C16.6923 12.5368 17.058 12.3848 17.4359 12.2597V11.7949ZM20 17.8939C18.8368 17.8939 17.8939 18.8368 17.8939 20C17.8939 21.1632 18.8368 22.1061 20 22.1061C21.1632 22.1061 22.1061 21.1632 22.1061 20C22.1061 18.8368 21.1632 17.8939 20 17.8939ZM16.3554 20C16.3554 17.9871 17.9871 16.3554 20 16.3554C22.0129 16.3554 23.6446 17.9871 23.6446 20C23.6446 22.0129 22.0129 23.6446 20 23.6446C17.9871 23.6446 16.3554 22.0129 16.3554 20Z" fill="white"/>
        </svg>                
    </div>
    <div class="func-buttons copylink" (click)="copyLink()">
      <svg
        width="40"
        height="40"
        viewBox="0 0 40 40"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <rect width="40" height="40" rx="20" fill="#00BCD4" />
        <path
          d="M16 18.75C16.4142 18.75 16.75 18.4142 16.75 18C16.75 17.5858 16.4142 17.25 16 17.25V18.75ZM24 17.25C23.5858 17.25 23.25 17.5858 23.25 18C23.25 18.4142 23.5858 18.75 24 18.75V17.25ZM25 18V18.75V18ZM26.25 20V27H27.75V20H26.25ZM25 28.25H15V29.75H25V28.25ZM13.75 27V20H12.25V27H13.75ZM15 18.75H16V17.25H15V18.75ZM24 18.75H25V17.25H24V18.75ZM15 28.25C14.3096 28.25 13.75 27.6904 13.75 27H12.25C12.25 28.5188 13.4812 29.75 15 29.75V28.25ZM26.25 27C26.25 27.6904 25.6904 28.25 25 28.25V29.75C26.5188 29.75 27.75 28.5188 27.75 27H26.25ZM27.75 20C27.75 18.4812 26.5188 17.25 25 17.25V18.75C25.6904 18.75 26.25 19.3096 26.25 20H27.75ZM13.75 20C13.75 19.3096 14.3096 18.75 15 18.75V17.25C13.4812 17.25 12.25 18.4812 12.25 20H13.75Z"
          fill="white"
        />
        <path
          d="M19.25 22C19.25 22.4142 19.5858 22.75 20 22.75C20.4142 22.75 20.75 22.4142 20.75 22L19.25 22ZM20 11L20.5303 10.4697C20.3897 10.329 20.1989 10.25 20 10.25C19.8011 10.25 19.6103 10.329 19.4697 10.4697L20 11ZM22.4697 14.5304C22.7626 14.8233 23.2374 14.8233 23.5303 14.5304C23.8232 14.2375 23.8232 13.7626 23.5303 13.4697L22.4697 14.5304ZM16.4697 13.4697C16.1768 13.7626 16.1768 14.2375 16.4697 14.5304C16.7626 14.8233 17.2374 14.8233 17.5303 14.5304L16.4697 13.4697ZM20.75 22L20.75 11L19.25 11L19.25 22L20.75 22ZM19.4697 11.5304L22.4697 14.5304L23.5303 13.4697L20.5303 10.4697L19.4697 11.5304ZM19.4697 10.4697L16.4697 13.4697L17.5303 14.5304L20.5303 11.5304L19.4697 10.4697Z"
          fill="white"
        />
      </svg>
    </div>
  </div>
</div>

<div
  *ngIf="allTasks$ | async as allTasks; else loader"
  class="row allTasks dfl fd_col"
>
  <div class="taskRow" *ngFor="let task of allTasks">
    <app-task-row
      [taskData]="task"
      [client]="client"
      (updateTasks)="updateTasksList()"
    ></app-task-row>
  </div>
</div>
<ng-template #loader>
  <app-loader></app-loader>
</ng-template>
